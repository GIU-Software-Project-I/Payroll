{
  "info": {
    "name": "Organization Structure Module",
    "_postman_id": "org-structure-collection",
    "description": "HR System - Organization Structure API Tests - 83 requests",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {"key": "baseUrl", "value": "http://localhost:5000"},
    {"key": "departmentId", "value": ""},
    {"key": "positionId", "value": ""},
    {"key": "employeeId", "value": ""},
    {"key": "assignmentId", "value": ""},
    {"key": "changeRequestId", "value": ""},
    {"key": "requestNumber", "value": ""},
    {"key": "adminEmployeeId", "value": ""},
    {"key": "inactiveDepartmentId", "value": ""},
    {"key": "inactivePositionId", "value": ""},
    {"key": "existingDepartmentCode", "value": ""},
    {"key": "departmentWithPositions", "value": ""},
    {"key": "activeDepartmentId", "value": ""},
    {"key": "positionWithAssignments", "value": ""},
    {"key": "positionWithSubordinates", "value": ""},
    {"key": "departmentHeadPositionId", "value": ""},
    {"key": "positionInInactiveDept", "value": ""},
    {"key": "assignedEmployeeId", "value": ""},
    {"key": "assignedPositionId", "value": ""},
    {"key": "endedAssignmentId", "value": ""},
    {"key": "approvedRequestId", "value": ""},
    {"key": "parentPositionId", "value": ""},
    {"key": "childPositionId", "value": ""},
    {"key": "positionFromOtherDepartment", "value": ""},
    {"key": "otherDepartmentId", "value": ""}
  ],
  "item": [
    {
      "name": "1. Departments",
      "item": [
        {"name": "1. POST Create Department", "request": {"method": "POST", "url": {"raw": "{{baseUrl}}/organization-structure/departments", "host": ["{{baseUrl}}"], "path": ["organization-structure", "departments"]}, "header": [{"key": "Content-Type", "value": "application/json"}], "body": {"mode": "raw", "raw": "{\n  \"code\": \"DEPT-001\",\n  \"name\": \"Engineering\",\n  \"description\": \"Software Engineering Department\"\n}"}}},
        {"name": "2. GET All Departments", "request": {"method": "GET", "url": {"raw": "{{baseUrl}}/organization-structure/departments", "host": ["{{baseUrl}}"], "path": ["organization-structure", "departments"]}}},
        {"name": "3. GET Active Departments", "request": {"method": "GET", "url": {"raw": "{{baseUrl}}/organization-structure/departments?isActive=true", "host": ["{{baseUrl}}"], "path": ["organization-structure", "departments"], "query": [{"key": "isActive", "value": "true"}]}}},
        {"name": "4. GET Inactive Departments", "request": {"method": "GET", "url": {"raw": "{{baseUrl}}/organization-structure/departments?isActive=false", "host": ["{{baseUrl}}"], "path": ["organization-structure", "departments"], "query": [{"key": "isActive", "value": "false"}]}}},
        {"name": "5. GET Search Departments", "request": {"method": "GET", "url": {"raw": "{{baseUrl}}/organization-structure/departments/search?query=Engineering&page=1&limit=10", "host": ["{{baseUrl}}"], "path": ["organization-structure", "departments", "search"], "query": [{"key": "query", "value": "Engineering"}, {"key": "page", "value": "1"}, {"key": "limit", "value": "10"}]}}},
        {"name": "6. GET Department Stats", "request": {"method": "GET", "url": {"raw": "{{baseUrl}}/organization-structure/departments/stats", "host": ["{{baseUrl}}"], "path": ["organization-structure", "departments", "stats"]}}},
        {"name": "7. GET Department By ID", "request": {"method": "GET", "url": {"raw": "{{baseUrl}}/organization-structure/departments/{{departmentId}}", "host": ["{{baseUrl}}"], "path": ["organization-structure", "departments", "{{departmentId}}"]}}},
        {"name": "8. GET Department Hierarchy", "request": {"method": "GET", "url": {"raw": "{{baseUrl}}/organization-structure/departments/{{departmentId}}/hierarchy", "host": ["{{baseUrl}}"], "path": ["organization-structure", "departments", "{{departmentId}}", "hierarchy"]}}},
        {"name": "9. PATCH Update Department", "request": {"method": "PATCH", "url": {"raw": "{{baseUrl}}/organization-structure/departments/{{departmentId}}", "host": ["{{baseUrl}}"], "path": ["organization-structure", "departments", "{{departmentId}}"]}, "header": [{"key": "Content-Type", "value": "application/json"}], "body": {"mode": "raw", "raw": "{\n  \"name\": \"Engineering & Development\",\n  \"description\": \"Updated description\"\n}"}}},
        {"name": "10. PATCH Update Department Head", "request": {"method": "PATCH", "url": {"raw": "{{baseUrl}}/organization-structure/departments/{{departmentId}}", "host": ["{{baseUrl}}"], "path": ["organization-structure", "departments", "{{departmentId}}"]}, "header": [{"key": "Content-Type", "value": "application/json"}], "body": {"mode": "raw", "raw": "{\n  \"headPositionId\": \"{{positionId}}\"\n}"}}},
        {"name": "11. PATCH Deactivate Department", "request": {"method": "PATCH", "url": {"raw": "{{baseUrl}}/organization-structure/departments/{{departmentId}}/deactivate", "host": ["{{baseUrl}}"], "path": ["organization-structure", "departments", "{{departmentId}}", "deactivate"]}}},
        {"name": "12. PATCH Reactivate Department", "request": {"method": "PATCH", "url": {"raw": "{{baseUrl}}/organization-structure/departments/{{departmentId}}/reactivate", "host": ["{{baseUrl}}"], "path": ["organization-structure", "departments", "{{departmentId}}", "reactivate"]}}}
      ]
    },
    {
      "name": "2. Positions",
      "item": [
        {"name": "13. POST Create Position", "request": {"method": "POST", "url": {"raw": "{{baseUrl}}/organization-structure/positions", "host": ["{{baseUrl}}"], "path": ["organization-structure", "positions"]}, "header": [{"key": "Content-Type", "value": "application/json"}], "body": {"mode": "raw", "raw": "{\n  \"code\": \"POS-001\",\n  \"title\": \"Senior Software Engineer\",\n  \"description\": \"Senior level engineering position\",\n  \"departmentId\": \"{{departmentId}}\"\n}"}}},
        {"name": "14. POST Create Position with Reports To", "request": {"method": "POST", "url": {"raw": "{{baseUrl}}/organization-structure/positions", "host": ["{{baseUrl}}"], "path": ["organization-structure", "positions"]}, "header": [{"key": "Content-Type", "value": "application/json"}], "body": {"mode": "raw", "raw": "{\n  \"code\": \"POS-002\",\n  \"title\": \"Junior Software Engineer\",\n  \"departmentId\": \"{{departmentId}}\",\n  \"reportsToPositionId\": \"{{positionId}}\"\n}"}}},
        {"name": "15. GET All Positions", "request": {"method": "GET", "url": {"raw": "{{baseUrl}}/organization-structure/positions", "host": ["{{baseUrl}}"], "path": ["organization-structure", "positions"]}}},
        {"name": "16. GET Positions by Department", "request": {"method": "GET", "url": {"raw": "{{baseUrl}}/organization-structure/positions?departmentId={{departmentId}}", "host": ["{{baseUrl}}"], "path": ["organization-structure", "positions"], "query": [{"key": "departmentId", "value": "{{departmentId}}"}]}}},
        {"name": "17. GET Active Positions", "request": {"method": "GET", "url": {"raw": "{{baseUrl}}/organization-structure/positions?isActive=true", "host": ["{{baseUrl}}"], "path": ["organization-structure", "positions"], "query": [{"key": "isActive", "value": "true"}]}}},
        {"name": "18. GET Search Positions", "request": {"method": "GET", "url": {"raw": "{{baseUrl}}/organization-structure/positions/search?query=Engineer&page=1&limit=10", "host": ["{{baseUrl}}"], "path": ["organization-structure", "positions", "search"], "query": [{"key": "query", "value": "Engineer"}, {"key": "page", "value": "1"}, {"key": "limit", "value": "10"}]}}},
        {"name": "19. GET Position Stats", "request": {"method": "GET", "url": {"raw": "{{baseUrl}}/organization-structure/positions/stats", "host": ["{{baseUrl}}"], "path": ["organization-structure", "positions", "stats"]}}},
        {"name": "20. GET Position By ID", "request": {"method": "GET", "url": {"raw": "{{baseUrl}}/organization-structure/positions/{{positionId}}", "host": ["{{baseUrl}}"], "path": ["organization-structure", "positions", "{{positionId}}"]}}},
        {"name": "21. GET Position Subordinates", "request": {"method": "GET", "url": {"raw": "{{baseUrl}}/organization-structure/positions/{{positionId}}/subordinates", "host": ["{{baseUrl}}"], "path": ["organization-structure", "positions", "{{positionId}}", "subordinates"]}}},
        {"name": "22. PATCH Update Position", "request": {"method": "PATCH", "url": {"raw": "{{baseUrl}}/organization-structure/positions/{{positionId}}", "host": ["{{baseUrl}}"], "path": ["organization-structure", "positions", "{{positionId}}"]}, "header": [{"key": "Content-Type", "value": "application/json"}], "body": {"mode": "raw", "raw": "{\n  \"title\": \"Lead Software Engineer\"\n}"}}},
        {"name": "23. PATCH Update Position Reports To", "request": {"method": "PATCH", "url": {"raw": "{{baseUrl}}/organization-structure/positions/{{positionId}}", "host": ["{{baseUrl}}"], "path": ["organization-structure", "positions", "{{positionId}}"]}, "header": [{"key": "Content-Type", "value": "application/json"}], "body": {"mode": "raw", "raw": "{\n  \"reportsToPositionId\": \"{{parentPositionId}}\"\n}"}}},
        {"name": "24. PATCH Deactivate Position", "request": {"method": "PATCH", "url": {"raw": "{{baseUrl}}/organization-structure/positions/{{positionId}}/deactivate", "host": ["{{baseUrl}}"], "path": ["organization-structure", "positions", "{{positionId}}", "deactivate"]}, "header": [{"key": "Content-Type", "value": "application/json"}], "body": {"mode": "raw", "raw": "{\n  \"reason\": \"Position no longer needed\"\n}"}}},
        {"name": "25. PATCH Reactivate Position", "request": {"method": "PATCH", "url": {"raw": "{{baseUrl}}/organization-structure/positions/{{positionId}}/reactivate", "host": ["{{baseUrl}}"], "path": ["organization-structure", "positions", "{{positionId}}", "reactivate"]}}}
      ]
    },
    {
      "name": "3. Assignments",
      "item": [
        {"name": "26. POST Assign Employee", "request": {"method": "POST", "url": {"raw": "{{baseUrl}}/organization-structure/assignments", "host": ["{{baseUrl}}"], "path": ["organization-structure", "assignments"]}, "header": [{"key": "Content-Type", "value": "application/json"}], "body": {"mode": "raw", "raw": "{\n  \"employeeProfileId\": \"{{employeeId}}\",\n  \"positionId\": \"{{positionId}}\",\n  \"startDate\": \"2025-01-01\",\n  \"reason\": \"New hire\"\n}"}}},
        {"name": "27. GET Search Assignments", "request": {"method": "GET", "url": {"raw": "{{baseUrl}}/organization-structure/assignments?page=1&limit=10", "host": ["{{baseUrl}}"], "path": ["organization-structure", "assignments"], "query": [{"key": "page", "value": "1"}, {"key": "limit", "value": "10"}]}}},
        {"name": "28. GET Active Assignments", "request": {"method": "GET", "url": {"raw": "{{baseUrl}}/organization-structure/assignments?activeOnly=true", "host": ["{{baseUrl}}"], "path": ["organization-structure", "assignments"], "query": [{"key": "activeOnly", "value": "true"}]}}},
        {"name": "29. GET Assignments by Employee", "request": {"method": "GET", "url": {"raw": "{{baseUrl}}/organization-structure/assignments?employeeProfileId={{employeeId}}", "host": ["{{baseUrl}}"], "path": ["organization-structure", "assignments"], "query": [{"key": "employeeProfileId", "value": "{{employeeId}}"}]}}},
        {"name": "30. GET Assignments by Position", "request": {"method": "GET", "url": {"raw": "{{baseUrl}}/organization-structure/assignments?positionId={{positionId}}", "host": ["{{baseUrl}}"], "path": ["organization-structure", "assignments"], "query": [{"key": "positionId", "value": "{{positionId}}"}]}}},
        {"name": "31. GET Assignments by Department", "request": {"method": "GET", "url": {"raw": "{{baseUrl}}/organization-structure/assignments?departmentId={{departmentId}}", "host": ["{{baseUrl}}"], "path": ["organization-structure", "assignments"], "query": [{"key": "departmentId", "value": "{{departmentId}}"}]}}},
        {"name": "32. GET Employee Assignment History", "request": {"method": "GET", "url": {"raw": "{{baseUrl}}/organization-structure/assignments/employee/{{employeeId}}/history", "host": ["{{baseUrl}}"], "path": ["organization-structure", "assignments", "employee", "{{employeeId}}", "history"]}}},
        {"name": "33. GET Assignment By ID", "request": {"method": "GET", "url": {"raw": "{{baseUrl}}/organization-structure/assignments/{{assignmentId}}", "host": ["{{baseUrl}}"], "path": ["organization-structure", "assignments", "{{assignmentId}}"]}}},
        {"name": "34. PATCH End Assignment", "request": {"method": "PATCH", "url": {"raw": "{{baseUrl}}/organization-structure/assignments/{{assignmentId}}/end", "host": ["{{baseUrl}}"], "path": ["organization-structure", "assignments", "{{assignmentId}}", "end"]}, "header": [{"key": "Content-Type", "value": "application/json"}], "body": {"mode": "raw", "raw": "{\n  \"endDate\": \"2025-12-31\",\n  \"reason\": \"Position change\"\n}"}}}
      ]
    },
    {
      "name": "4. Change Requests",
      "item": [
        {"name": "35. POST Create Request - New Position", "request": {"method": "POST", "url": {"raw": "{{baseUrl}}/organization-structure/change-requests", "host": ["{{baseUrl}}"], "path": ["organization-structure", "change-requests"]}, "header": [{"key": "Content-Type", "value": "application/json"}], "body": {"mode": "raw", "raw": "{\n  \"requestedByEmployeeId\": \"{{employeeId}}\",\n  \"requestType\": \"NEW_POSITION\",\n  \"targetDepartmentId\": \"{{departmentId}}\",\n  \"details\": \"Need DevOps Engineer\",\n  \"reason\": \"Team expansion\"\n}"}}},
        {"name": "36. POST Create Request - Update Position", "request": {"method": "POST", "url": {"raw": "{{baseUrl}}/organization-structure/change-requests", "host": ["{{baseUrl}}"], "path": ["organization-structure", "change-requests"]}, "header": [{"key": "Content-Type", "value": "application/json"}], "body": {"mode": "raw", "raw": "{\n  \"requestedByEmployeeId\": \"{{employeeId}}\",\n  \"requestType\": \"UPDATE_POSITION\",\n  \"targetPositionId\": \"{{positionId}}\",\n  \"details\": \"Update reporting line\",\n  \"reason\": \"Restructuring\"\n}"}}},
        {"name": "37. POST Create Request - New Department", "request": {"method": "POST", "url": {"raw": "{{baseUrl}}/organization-structure/change-requests", "host": ["{{baseUrl}}"], "path": ["organization-structure", "change-requests"]}, "header": [{"key": "Content-Type", "value": "application/json"}], "body": {"mode": "raw", "raw": "{\n  \"requestedByEmployeeId\": \"{{employeeId}}\",\n  \"requestType\": \"NEW_DEPARTMENT\",\n  \"details\": \"Need Marketing Department\",\n  \"reason\": \"Business expansion\"\n}"}}},
        {"name": "38. GET Search Change Requests", "request": {"method": "GET", "url": {"raw": "{{baseUrl}}/organization-structure/change-requests?page=1&limit=10", "host": ["{{baseUrl}}"], "path": ["organization-structure", "change-requests"], "query": [{"key": "page", "value": "1"}, {"key": "limit", "value": "10"}]}}},
        {"name": "39. GET Requests by Status", "request": {"method": "GET", "url": {"raw": "{{baseUrl}}/organization-structure/change-requests?status=SUBMITTED", "host": ["{{baseUrl}}"], "path": ["organization-structure", "change-requests"], "query": [{"key": "status", "value": "SUBMITTED"}]}}},
        {"name": "40. GET Requests by Type", "request": {"method": "GET", "url": {"raw": "{{baseUrl}}/organization-structure/change-requests?requestType=NEW_POSITION", "host": ["{{baseUrl}}"], "path": ["organization-structure", "change-requests"], "query": [{"key": "requestType", "value": "NEW_POSITION"}]}}},
        {"name": "41. GET Pending Count", "request": {"method": "GET", "url": {"raw": "{{baseUrl}}/organization-structure/change-requests/count/pending", "host": ["{{baseUrl}}"], "path": ["organization-structure", "change-requests", "count", "pending"]}}},
        {"name": "42. GET Request By ID", "request": {"method": "GET", "url": {"raw": "{{baseUrl}}/organization-structure/change-requests/{{changeRequestId}}", "host": ["{{baseUrl}}"], "path": ["organization-structure", "change-requests", "{{changeRequestId}}"]}}},
        {"name": "43. GET Request By Number", "request": {"method": "GET", "url": {"raw": "{{baseUrl}}/organization-structure/change-requests/by-number/{{requestNumber}}", "host": ["{{baseUrl}}"], "path": ["organization-structure", "change-requests", "by-number", "{{requestNumber}}"]}}},
        {"name": "44. GET Approvals for Request", "request": {"method": "GET", "url": {"raw": "{{baseUrl}}/organization-structure/change-requests/{{changeRequestId}}/approvals", "host": ["{{baseUrl}}"], "path": ["organization-structure", "change-requests", "{{changeRequestId}}", "approvals"]}}},
        {"name": "45. PATCH Update Request", "request": {"method": "PATCH", "url": {"raw": "{{baseUrl}}/organization-structure/change-requests/{{changeRequestId}}", "host": ["{{baseUrl}}"], "path": ["organization-structure", "change-requests", "{{changeRequestId}}"]}, "header": [{"key": "Content-Type", "value": "application/json"}], "body": {"mode": "raw", "raw": "{\n  \"details\": \"Updated details\"\n}"}}},
        {"name": "46. PATCH Cancel Request", "request": {"method": "PATCH", "url": {"raw": "{{baseUrl}}/organization-structure/change-requests/{{changeRequestId}}/cancel", "host": ["{{baseUrl}}"], "path": ["organization-structure", "change-requests", "{{changeRequestId}}", "cancel"]}}},
        {"name": "47. POST Approve Request", "request": {"method": "POST", "url": {"raw": "{{baseUrl}}/organization-structure/change-requests/{{changeRequestId}}/approvals", "host": ["{{baseUrl}}"], "path": ["organization-structure", "change-requests", "{{changeRequestId}}", "approvals"]}, "header": [{"key": "Content-Type", "value": "application/json"}], "body": {"mode": "raw", "raw": "{\n  \"approverEmployeeId\": \"{{adminEmployeeId}}\",\n  \"decision\": \"APPROVED\",\n  \"comments\": \"Approved - budget available\"\n}"}}},
        {"name": "48. POST Reject Request", "request": {"method": "POST", "url": {"raw": "{{baseUrl}}/organization-structure/change-requests/{{changeRequestId}}/approvals", "host": ["{{baseUrl}}"], "path": ["organization-structure", "change-requests", "{{changeRequestId}}", "approvals"]}, "header": [{"key": "Content-Type", "value": "application/json"}], "body": {"mode": "raw", "raw": "{\n  \"approverEmployeeId\": \"{{adminEmployeeId}}\",\n  \"decision\": \"REJECTED\",\n  \"comments\": \"Insufficient justification\"\n}"}}}
      ]
    },
    {
      "name": "5. Org Chart and Logs",
      "item": [
        {"name": "49. GET Org Chart", "request": {"method": "GET", "url": {"raw": "{{baseUrl}}/organization-structure/org-chart", "host": ["{{baseUrl}}"], "path": ["organization-structure", "org-chart"]}}},
        {"name": "50. GET Department Change Logs", "request": {"method": "GET", "url": {"raw": "{{baseUrl}}/organization-structure/change-logs/Department/{{departmentId}}?page=1&limit=10", "host": ["{{baseUrl}}"], "path": ["organization-structure", "change-logs", "Department", "{{departmentId}}"], "query": [{"key": "page", "value": "1"}, {"key": "limit", "value": "10"}]}}},
        {"name": "51. GET Position Change Logs", "request": {"method": "GET", "url": {"raw": "{{baseUrl}}/organization-structure/change-logs/Position/{{positionId}}?page=1&limit=10", "host": ["{{baseUrl}}"], "path": ["organization-structure", "change-logs", "Position", "{{positionId}}"], "query": [{"key": "page", "value": "1"}, {"key": "limit", "value": "10"}]}}},
        {"name": "52. GET Assignment Change Logs", "request": {"method": "GET", "url": {"raw": "{{baseUrl}}/organization-structure/change-logs/PositionAssignment/{{assignmentId}}?page=1&limit=10", "host": ["{{baseUrl}}"], "path": ["organization-structure", "change-logs", "PositionAssignment", "{{assignmentId}}"], "query": [{"key": "page", "value": "1"}, {"key": "limit", "value": "10"}]}}}
      ]
    },
    {
      "name": "6. Edge Cases - Department Errors",
      "item": [
        {"name": "53. ERROR Duplicate Dept Code", "request": {"method": "POST", "url": {"raw": "{{baseUrl}}/organization-structure/departments", "host": ["{{baseUrl}}"], "path": ["organization-structure", "departments"]}, "header": [{"key": "Content-Type", "value": "application/json"}], "body": {"mode": "raw", "raw": "{\n  \"code\": \"DEPT-001\",\n  \"name\": \"Duplicate Code Test\"\n}"}}},
        {"name": "54. ERROR Duplicate Dept Name", "request": {"method": "POST", "url": {"raw": "{{baseUrl}}/organization-structure/departments", "host": ["{{baseUrl}}"], "path": ["organization-structure", "departments"]}, "header": [{"key": "Content-Type", "value": "application/json"}], "body": {"mode": "raw", "raw": "{\n  \"code\": \"DEPT-UNIQUE\",\n  \"name\": \"Engineering\"\n}"}}},
        {"name": "55. ERROR Create Dept with Head Position", "request": {"method": "POST", "url": {"raw": "{{baseUrl}}/organization-structure/departments", "host": ["{{baseUrl}}"], "path": ["organization-structure", "departments"]}, "header": [{"key": "Content-Type", "value": "application/json"}], "body": {"mode": "raw", "raw": "{\n  \"code\": \"DEPT-NEW\",\n  \"name\": \"New Department\",\n  \"headPositionId\": \"{{positionId}}\"\n}"}}},
        {"name": "56. ERROR Dept Not Found", "request": {"method": "GET", "url": {"raw": "{{baseUrl}}/organization-structure/departments/507f1f77bcf86cd799439011", "host": ["{{baseUrl}}"], "path": ["organization-structure", "departments", "507f1f77bcf86cd799439011"]}}},
        {"name": "57. ERROR Invalid Dept ID", "request": {"method": "GET", "url": {"raw": "{{baseUrl}}/organization-structure/departments/invalid-id", "host": ["{{baseUrl}}"], "path": ["organization-structure", "departments", "invalid-id"]}}},
        {"name": "58. ERROR Update Dept Duplicate Code", "request": {"method": "PATCH", "url": {"raw": "{{baseUrl}}/organization-structure/departments/{{departmentId}}", "host": ["{{baseUrl}}"], "path": ["organization-structure", "departments", "{{departmentId}}"]}, "header": [{"key": "Content-Type", "value": "application/json"}], "body": {"mode": "raw", "raw": "{\n  \"code\": \"{{existingDepartmentCode}}\"\n}"}}},
        {"name": "59. ERROR Head Position From Other Dept", "request": {"method": "PATCH", "url": {"raw": "{{baseUrl}}/organization-structure/departments/{{departmentId}}", "host": ["{{baseUrl}}"], "path": ["organization-structure", "departments", "{{departmentId}}"]}, "header": [{"key": "Content-Type", "value": "application/json"}], "body": {"mode": "raw", "raw": "{\n  \"headPositionId\": \"{{positionFromOtherDepartment}}\"\n}"}}},
        {"name": "60. ERROR Inactive Head Position", "request": {"method": "PATCH", "url": {"raw": "{{baseUrl}}/organization-structure/departments/{{departmentId}}", "host": ["{{baseUrl}}"], "path": ["organization-structure", "departments", "{{departmentId}}"]}, "header": [{"key": "Content-Type", "value": "application/json"}], "body": {"mode": "raw", "raw": "{\n  \"headPositionId\": \"{{inactivePositionId}}\"\n}"}}},
        {"name": "61. ERROR Deactivate Dept Has Positions", "request": {"method": "PATCH", "url": {"raw": "{{baseUrl}}/organization-structure/departments/{{departmentWithPositions}}/deactivate", "host": ["{{baseUrl}}"], "path": ["organization-structure", "departments", "{{departmentWithPositions}}", "deactivate"]}}},
        {"name": "62. ERROR Deactivate Already Inactive", "request": {"method": "PATCH", "url": {"raw": "{{baseUrl}}/organization-structure/departments/{{inactiveDepartmentId}}/deactivate", "host": ["{{baseUrl}}"], "path": ["organization-structure", "departments", "{{inactiveDepartmentId}}", "deactivate"]}}},
        {"name": "63. ERROR Reactivate Already Active", "request": {"method": "PATCH", "url": {"raw": "{{baseUrl}}/organization-structure/departments/{{activeDepartmentId}}/reactivate", "host": ["{{baseUrl}}"], "path": ["organization-structure", "departments", "{{activeDepartmentId}}", "reactivate"]}}}
      ]
    },
    {
      "name": "7. Edge Cases - Position Errors",
      "item": [
        {"name": "64. ERROR Duplicate Position Code", "request": {"method": "POST", "url": {"raw": "{{baseUrl}}/organization-structure/positions", "host": ["{{baseUrl}}"], "path": ["organization-structure", "positions"]}, "header": [{"key": "Content-Type", "value": "application/json"}], "body": {"mode": "raw", "raw": "{\n  \"code\": \"POS-001\",\n  \"title\": \"Duplicate Code\",\n  \"departmentId\": \"{{departmentId}}\"\n}"}}},
        {"name": "65. ERROR Dept Not Found", "request": {"method": "POST", "url": {"raw": "{{baseUrl}}/organization-structure/positions", "host": ["{{baseUrl}}"], "path": ["organization-structure", "positions"]}, "header": [{"key": "Content-Type", "value": "application/json"}], "body": {"mode": "raw", "raw": "{\n  \"code\": \"POS-NEW\",\n  \"title\": \"New Position\",\n  \"departmentId\": \"507f1f77bcf86cd799439011\"\n}"}}},
        {"name": "66. ERROR Position In Inactive Dept", "request": {"method": "POST", "url": {"raw": "{{baseUrl}}/organization-structure/positions", "host": ["{{baseUrl}}"], "path": ["organization-structure", "positions"]}, "header": [{"key": "Content-Type", "value": "application/json"}], "body": {"mode": "raw", "raw": "{\n  \"code\": \"POS-NEW\",\n  \"title\": \"New Position\",\n  \"departmentId\": \"{{inactiveDepartmentId}}\"\n}"}}},
        {"name": "67. ERROR ReportsTo Not Found", "request": {"method": "POST", "url": {"raw": "{{baseUrl}}/organization-structure/positions", "host": ["{{baseUrl}}"], "path": ["organization-structure", "positions"]}, "header": [{"key": "Content-Type", "value": "application/json"}], "body": {"mode": "raw", "raw": "{\n  \"code\": \"POS-NEW\",\n  \"title\": \"New Position\",\n  \"departmentId\": \"{{departmentId}}\",\n  \"reportsToPositionId\": \"507f1f77bcf86cd799439011\"\n}"}}},
        {"name": "68. ERROR ReportsTo Inactive", "request": {"method": "POST", "url": {"raw": "{{baseUrl}}/organization-structure/positions", "host": ["{{baseUrl}}"], "path": ["organization-structure", "positions"]}, "header": [{"key": "Content-Type", "value": "application/json"}], "body": {"mode": "raw", "raw": "{\n  \"code\": \"POS-NEW\",\n  \"title\": \"New Position\",\n  \"departmentId\": \"{{departmentId}}\",\n  \"reportsToPositionId\": \"{{inactivePositionId}}\"\n}"}}},
        {"name": "69. ERROR Position Self Reports", "request": {"method": "PATCH", "url": {"raw": "{{baseUrl}}/organization-structure/positions/{{positionId}}", "host": ["{{baseUrl}}"], "path": ["organization-structure", "positions", "{{positionId}}"]}, "header": [{"key": "Content-Type", "value": "application/json"}], "body": {"mode": "raw", "raw": "{\n  \"reportsToPositionId\": \"{{positionId}}\"\n}"}}},
        {"name": "70. ERROR Circular Reporting", "request": {"method": "PATCH", "url": {"raw": "{{baseUrl}}/organization-structure/positions/{{parentPositionId}}", "host": ["{{baseUrl}}"], "path": ["organization-structure", "positions", "{{parentPositionId}}"]}, "header": [{"key": "Content-Type", "value": "application/json"}], "body": {"mode": "raw", "raw": "{\n  \"reportsToPositionId\": \"{{childPositionId}}\"\n}"}}},
        {"name": "71. ERROR Move To Inactive Dept", "request": {"method": "PATCH", "url": {"raw": "{{baseUrl}}/organization-structure/positions/{{positionId}}", "host": ["{{baseUrl}}"], "path": ["organization-structure", "positions", "{{positionId}}"]}, "header": [{"key": "Content-Type", "value": "application/json"}], "body": {"mode": "raw", "raw": "{\n  \"departmentId\": \"{{inactiveDepartmentId}}\"\n}"}}},
        {"name": "72. ERROR Deactivate Has Assignments", "request": {"method": "PATCH", "url": {"raw": "{{baseUrl}}/organization-structure/positions/{{positionWithAssignments}}/deactivate", "host": ["{{baseUrl}}"], "path": ["organization-structure", "positions", "{{positionWithAssignments}}", "deactivate"]}}},
        {"name": "73. ERROR Deactivate Has Subordinates", "request": {"method": "PATCH", "url": {"raw": "{{baseUrl}}/organization-structure/positions/{{positionWithSubordinates}}/deactivate", "host": ["{{baseUrl}}"], "path": ["organization-structure", "positions", "{{positionWithSubordinates}}", "deactivate"]}}},
        {"name": "74. ERROR Deactivate Is Dept Head", "request": {"method": "PATCH", "url": {"raw": "{{baseUrl}}/organization-structure/positions/{{departmentHeadPositionId}}/deactivate", "host": ["{{baseUrl}}"], "path": ["organization-structure", "positions", "{{departmentHeadPositionId}}", "deactivate"]}}},
        {"name": "75. ERROR Deactivate Already Inactive", "request": {"method": "PATCH", "url": {"raw": "{{baseUrl}}/organization-structure/positions/{{inactivePositionId}}/deactivate", "host": ["{{baseUrl}}"], "path": ["organization-structure", "positions", "{{inactivePositionId}}", "deactivate"]}}},
        {"name": "76. ERROR Reactivate In Inactive Dept", "request": {"method": "PATCH", "url": {"raw": "{{baseUrl}}/organization-structure/positions/{{positionInInactiveDept}}/reactivate", "host": ["{{baseUrl}}"], "path": ["organization-structure", "positions", "{{positionInInactiveDept}}", "reactivate"]}}},
        {"name": "77. ERROR Reactivate Already Active", "request": {"method": "PATCH", "url": {"raw": "{{baseUrl}}/organization-structure/positions/{{positionId}}/reactivate", "host": ["{{baseUrl}}"], "path": ["organization-structure", "positions", "{{positionId}}", "reactivate"]}}}
      ]
    },
    {
      "name": "8. Edge Cases - Assignment Errors",
      "item": [
        {"name": "78. ERROR Assign To Inactive Position", "request": {"method": "POST", "url": {"raw": "{{baseUrl}}/organization-structure/assignments", "host": ["{{baseUrl}}"], "path": ["organization-structure", "assignments"]}, "header": [{"key": "Content-Type", "value": "application/json"}], "body": {"mode": "raw", "raw": "{\n  \"employeeProfileId\": \"{{employeeId}}\",\n  \"positionId\": \"{{inactivePositionId}}\",\n  \"startDate\": \"2025-01-01\"\n}"}}},
        {"name": "79. ERROR Already Assigned Same Position", "request": {"method": "POST", "url": {"raw": "{{baseUrl}}/organization-structure/assignments", "host": ["{{baseUrl}}"], "path": ["organization-structure", "assignments"]}, "header": [{"key": "Content-Type", "value": "application/json"}], "body": {"mode": "raw", "raw": "{\n  \"employeeProfileId\": \"{{assignedEmployeeId}}\",\n  \"positionId\": \"{{assignedPositionId}}\",\n  \"startDate\": \"2025-01-01\"\n}"}}},
        {"name": "80. ERROR Assignment Dept Mismatch", "request": {"method": "POST", "url": {"raw": "{{baseUrl}}/organization-structure/assignments", "host": ["{{baseUrl}}"], "path": ["organization-structure", "assignments"]}, "header": [{"key": "Content-Type", "value": "application/json"}], "body": {"mode": "raw", "raw": "{\n  \"employeeProfileId\": \"{{employeeId}}\",\n  \"positionId\": \"{{positionId}}\",\n  \"departmentId\": \"{{otherDepartmentId}}\",\n  \"startDate\": \"2025-01-01\"\n}"}}},
        {"name": "81. ERROR Assignment Not Found", "request": {"method": "GET", "url": {"raw": "{{baseUrl}}/organization-structure/assignments/507f1f77bcf86cd799439011", "host": ["{{baseUrl}}"], "path": ["organization-structure", "assignments", "507f1f77bcf86cd799439011"]}}},
        {"name": "82. ERROR End Assignment Not Found", "request": {"method": "PATCH", "url": {"raw": "{{baseUrl}}/organization-structure/assignments/507f1f77bcf86cd799439011/end", "host": ["{{baseUrl}}"], "path": ["organization-structure", "assignments", "507f1f77bcf86cd799439011", "end"]}, "header": [{"key": "Content-Type", "value": "application/json"}], "body": {"mode": "raw", "raw": "{\n  \"endDate\": \"2025-12-31\"\n}"}}},
        {"name": "83. ERROR End Already Ended", "request": {"method": "PATCH", "url": {"raw": "{{baseUrl}}/organization-structure/assignments/{{endedAssignmentId}}/end", "host": ["{{baseUrl}}"], "path": ["organization-structure", "assignments", "{{endedAssignmentId}}", "end"]}, "header": [{"key": "Content-Type", "value": "application/json"}], "body": {"mode": "raw", "raw": "{\n  \"endDate\": \"2025-12-31\"\n}"}}},
        {"name": "84. ERROR End Date Before Start", "request": {"method": "PATCH", "url": {"raw": "{{baseUrl}}/organization-structure/assignments/{{assignmentId}}/end", "host": ["{{baseUrl}}"], "path": ["organization-structure", "assignments", "{{assignmentId}}", "end"]}, "header": [{"key": "Content-Type", "value": "application/json"}], "body": {"mode": "raw", "raw": "{\n  \"endDate\": \"2020-01-01\"\n}"}}}
      ]
    },
    {
      "name": "9. Edge Cases - Change Request Errors",
      "item": [
        {"name": "85. ERROR Target Dept Not Found", "request": {"method": "POST", "url": {"raw": "{{baseUrl}}/organization-structure/change-requests", "host": ["{{baseUrl}}"], "path": ["organization-structure", "change-requests"]}, "header": [{"key": "Content-Type", "value": "application/json"}], "body": {"mode": "raw", "raw": "{\n  \"requestedByEmployeeId\": \"{{employeeId}}\",\n  \"requestType\": \"NEW_POSITION\",\n  \"targetDepartmentId\": \"507f1f77bcf86cd799439011\",\n  \"details\": \"Test\",\n  \"reason\": \"Test\"\n}"}}},
        {"name": "86. ERROR Target Position Not Found", "request": {"method": "POST", "url": {"raw": "{{baseUrl}}/organization-structure/change-requests", "host": ["{{baseUrl}}"], "path": ["organization-structure", "change-requests"]}, "header": [{"key": "Content-Type", "value": "application/json"}], "body": {"mode": "raw", "raw": "{\n  \"requestedByEmployeeId\": \"{{employeeId}}\",\n  \"requestType\": \"UPDATE_POSITION\",\n  \"targetPositionId\": \"507f1f77bcf86cd799439011\",\n  \"details\": \"Test\",\n  \"reason\": \"Test\"\n}"}}},
        {"name": "87. ERROR Duplicate Pending Request", "request": {"method": "POST", "url": {"raw": "{{baseUrl}}/organization-structure/change-requests", "host": ["{{baseUrl}}"], "path": ["organization-structure", "change-requests"]}, "header": [{"key": "Content-Type", "value": "application/json"}], "body": {"mode": "raw", "raw": "{\n  \"requestedByEmployeeId\": \"{{employeeId}}\",\n  \"requestType\": \"NEW_POSITION\",\n  \"targetDepartmentId\": \"{{departmentId}}\",\n  \"details\": \"Duplicate\",\n  \"reason\": \"Should fail\"\n}"}}},
        {"name": "88. ERROR Request Not Found", "request": {"method": "GET", "url": {"raw": "{{baseUrl}}/organization-structure/change-requests/507f1f77bcf86cd799439011", "host": ["{{baseUrl}}"], "path": ["organization-structure", "change-requests", "507f1f77bcf86cd799439011"]}}},
        {"name": "89. ERROR Update Request Not Draft", "request": {"method": "PATCH", "url": {"raw": "{{baseUrl}}/organization-structure/change-requests/{{approvedRequestId}}", "host": ["{{baseUrl}}"], "path": ["organization-structure", "change-requests", "{{approvedRequestId}}"]}, "header": [{"key": "Content-Type", "value": "application/json"}], "body": {"mode": "raw", "raw": "{\n  \"details\": \"Cannot update approved\"\n}"}}},
        {"name": "90. ERROR Cancel Not Pending", "request": {"method": "PATCH", "url": {"raw": "{{baseUrl}}/organization-structure/change-requests/{{approvedRequestId}}/cancel", "host": ["{{baseUrl}}"], "path": ["organization-structure", "change-requests", "{{approvedRequestId}}", "cancel"]}}},
        {"name": "91. ERROR Approve Wrong Status", "request": {"method": "POST", "url": {"raw": "{{baseUrl}}/organization-structure/change-requests/{{approvedRequestId}}/approvals", "host": ["{{baseUrl}}"], "path": ["organization-structure", "change-requests", "{{approvedRequestId}}", "approvals"]}, "header": [{"key": "Content-Type", "value": "application/json"}], "body": {"mode": "raw", "raw": "{\n  \"approverEmployeeId\": \"{{adminEmployeeId}}\",\n  \"decision\": \"APPROVED\",\n  \"comments\": \"Test\"\n}"}}},
        {"name": "92. ERROR Duplicate Approver", "request": {"method": "POST", "url": {"raw": "{{baseUrl}}/organization-structure/change-requests/{{changeRequestId}}/approvals", "host": ["{{baseUrl}}"], "path": ["organization-structure", "change-requests", "{{changeRequestId}}", "approvals"]}, "header": [{"key": "Content-Type", "value": "application/json"}], "body": {"mode": "raw", "raw": "{\n  \"approverEmployeeId\": \"{{adminEmployeeId}}\",\n  \"decision\": \"APPROVED\",\n  \"comments\": \"Second approval\"\n}"}}},
        {"name": "93. ERROR Reject Without Comments", "request": {"method": "POST", "url": {"raw": "{{baseUrl}}/organization-structure/change-requests/{{changeRequestId}}/approvals", "host": ["{{baseUrl}}"], "path": ["organization-structure", "change-requests", "{{changeRequestId}}", "approvals"]}, "header": [{"key": "Content-Type", "value": "application/json"}], "body": {"mode": "raw", "raw": "{\n  \"approverEmployeeId\": \"{{adminEmployeeId}}\",\n  \"decision\": \"REJECTED\"\n}"}}}
      ]
    }
  ]
}

