{
	"info": {
		"name": "Organization Structure API - Complete Testing Suite",
		"description": "Comprehensive Postman collection for Organization Structure module covering all routes, edge cases, and integration scenarios. Based on organization requirements and actual database IDs.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:5000",
			"type": "string"
		},
		{
			"key": "dept_id_it",
			"value": "693a80037e07119e5fd6a888",
			"type": "string",
			"description": "Engineering & Development Department"
		},
		{
			"key": "dept_id_hr",
			"value": "693a80037e07119e5fd6a889",
			"type": "string",
			"description": "HR Department"
		},
		{
			"key": "dept_id_finance",
			"value": "693a80037e07119e5fd6a88a",
			"type": "string",
			"description": "Finance Department"
		},
		{
			"key": "dept_id_marketing",
			"value": "693a80037e07119e5fd6a88b",
			"type": "string",
			"description": "Marketing Department"
		},
		{
			"key": "dept_id_ops",
			"value": "693a80037e07119e5fd6a88c",
			"type": "string",
			"description": "Operations Department"
		},
		{
			"key": "position_id_swe",
			"value": "693a80037e07119e5fd6a88f",
			"type": "string",
			"description": "Senior Software Engineer"
		},
		{
			"key": "position_id_hrm",
			"value": "693a80037e07119e5fd6a890",
			"type": "string",
			"description": "HR Manager"
		},
		{
			"key": "position_id_acc",
			"value": "693a80037e07119e5fd6a891",
			"type": "string",
			"description": "Senior Accountant"
		},
		{
			"key": "position_id_mkt",
			"value": "693a80037e07119e5fd6a892",
			"type": "string",
			"description": "Marketing Manager"
		},
		{
			"key": "assignment_id_1",
			"value": "693a800d7e07119e5fd6a9fb",
			"type": "string",
			"description": "John Doe → Senior Software Engineer"
		},
		{
			"key": "assignment_id_2",
			"value": "693a800d7e07119e5fd6a9fc",
			"type": "string",
			"description": "Jane Smith → HR Manager"
		},
		{
			"key": "employee_id_active",
			"value": "693a80047e07119e5fd6a8da",
			"type": "string",
			"description": "Jane Smith - Active Employee"
		},
		{
			"key": "employee_id_active_2",
			"value": "693a80047e07119e5fd6a8db",
			"type": "string",
			"description": "John Doe - Active Employee"
		},
		{
			"key": "change_request_approved",
			"value": "693a800d7e07119e5fd6aa00",
			"type": "string",
			"description": "SCR-2025-001 (APPROVED)"
		},
		{
			"key": "change_request_pending",
			"value": "693a800d7e07119e5fd6aa01",
			"type": "string",
			"description": "SCR-2025-002 (UNDER_REVIEW)"
		}
	],
	"item": [
		{
			"name": "Integration Tests",
			"description": "Complete integration test scenarios covering all user stories from requirements",
			"item": [
				{
					"name": "1. Department Management",
					"description": "REQ-OSM-01, REQ-OSM-02, REQ-OSM-05",
					"item": [
						{
							"name": "REQ-OSM-01: Create Department",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"code\": \"DEV\",\n  \"name\": \"Development\",\n  \"description\": \"Software development department\",\n  \"isActive\": true\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/organization-structure/departments",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "departments"]
								},
								"description": "System Admin creates a new department"
							},
							"response": []
						},
						{
							"name": "Get All Departments",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/organization-structure/departments",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "departments"]
								},
								"description": "Get all departments (active and inactive)"
							},
							"response": []
						},
						{
							"name": "Get Active Departments Only",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/organization-structure/departments?isActive=true",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "departments"],
									"query": [
										{
											"key": "isActive",
											"value": "true"
										}
									]
								},
								"description": "Get only active departments"
							},
							"response": []
						},
						{
							"name": "Search Departments",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/organization-structure/departments/search?query=Engineer&page=1&limit=20",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "departments", "search"],
									"query": [
										{
											"key": "query",
											"value": "Engineer"
										},
										{
											"key": "page",
											"value": "1"
										},
										{
											"key": "limit",
											"value": "20"
										}
									]
								},
								"description": "Search departments by name, code, or description"
							},
							"response": []
						},
						{
							"name": "Get Department Statistics",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/organization-structure/departments/stats",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "departments", "stats"]
								},
								"description": "Get department statistics (total, active, inactive, position counts)"
							},
							"response": []
						},
						{
							"name": "Get Department by ID",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/organization-structure/departments/{{dept_id_it}}",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "departments", "{{dept_id_it}}"]
								},
								"description": "Get department details by ID"
							},
							"response": []
						},
						{
							"name": "Get Department Hierarchy",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/organization-structure/departments/{{dept_id_it}}/hierarchy",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "departments", "{{dept_id_it}}", "hierarchy"]
								},
								"description": "Get department hierarchy including positions and reporting lines"
							},
							"response": []
						},
						{
							"name": "REQ-OSM-02: Update Department",
							"request": {
								"method": "PATCH",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"name\": \"Engineering & IT\",\n  \"description\": \"Engineering and Information Technology department\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/organization-structure/departments/{{dept_id_it}}",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "departments", "{{dept_id_it}}"]
								},
								"description": "System Admin updates department information"
							},
							"response": []
						},
						{
							"name": "REQ-OSM-05: Deactivate Department",
							"request": {
								"method": "PATCH",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/organization-structure/departments/{{dept_id_marketing}}/deactivate",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "departments", "{{dept_id_marketing}}", "deactivate"]
								},
								"description": "System Admin deactivates a department (BR 12 - must deactivate positions first)"
							},
							"response": []
						},
						{
							"name": "Reactivate Department",
							"request": {
								"method": "PATCH",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/organization-structure/departments/{{dept_id_marketing}}/reactivate",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "departments", "{{dept_id_marketing}}", "reactivate"]
								},
								"description": "System Admin reactivates a department"
							},
							"response": []
						}
					]
				},
				{
					"name": "2. Position Management",
					"description": "REQ-OSM-01, REQ-OSM-02, REQ-OSM-05",
					"item": [
						{
							"name": "REQ-OSM-01: Create Position",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"code\": \"TL-001\",\n  \"title\": \"Tech Lead\",\n  \"description\": \"Technical team leader\",\n  \"departmentId\": \"{{dept_id_it}}\",\n  \"reportsToPositionId\": \"{{position_id_swe}}\",\n  \"isActive\": true\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/organization-structure/positions",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "positions"]
								},
								"description": "System Admin creates a new position (BR 10 - Position must have Job Key, Pay Grade, Dept ID)"
							},
							"response": []
						},
						{
							"name": "Get All Positions",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/organization-structure/positions",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "positions"]
								},
								"description": "Get all positions"
							},
							"response": []
						},
						{
							"name": "Get Positions by Department",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/organization-structure/positions?departmentId={{dept_id_it}}&isActive=true",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "positions"],
									"query": [
										{
											"key": "departmentId",
											"value": "{{dept_id_it}}"
										},
										{
											"key": "isActive",
											"value": "true"
										}
									]
								},
								"description": "Get positions filtered by department"
							},
							"response": []
						},
						{
							"name": "Search Positions",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/organization-structure/positions/search?query=Engineer&departmentId={{dept_id_it}}&page=1&limit=20",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "positions", "search"],
									"query": [
										{
											"key": "query",
											"value": "Engineer"
										},
										{
											"key": "departmentId",
											"value": "{{dept_id_it}}"
										},
										{
											"key": "page",
											"value": "1"
										},
										{
											"key": "limit",
											"value": "20"
										}
									]
								},
								"description": "Search positions by title, code, or description"
							},
							"response": []
						},
						{
							"name": "Get Position Statistics",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/organization-structure/positions/stats",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "positions", "stats"]
								},
								"description": "Get position statistics (total, active, vacant, filled)"
							},
							"response": []
						},
						{
							"name": "Get Position by ID",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/organization-structure/positions/{{position_id_swe}}",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "positions", "{{position_id_swe}}"]
								},
								"description": "Get position details by ID"
							},
							"response": []
						},
						{
							"name": "Get Position Subordinates",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/organization-structure/positions/{{position_id_swe}}/subordinates",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "positions", "{{position_id_swe}}", "subordinates"]
								},
								"description": "Get all positions reporting to this position"
							},
							"response": []
						},
						{
							"name": "REQ-OSM-02: Update Position",
							"request": {
								"method": "PATCH",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"title\": \"Lead Software Engineer\",\n  \"description\": \"Lead engineer with team leadership responsibilities\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/organization-structure/positions/{{position_id_swe}}",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "positions", "{{position_id_swe}}"]
								},
								"description": "System Admin updates position information"
							},
							"response": []
						},
						{
							"name": "REQ-OSM-05: Deactivate Position (Delimit)",
							"request": {
								"method": "PATCH",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"reason\": \"Position no longer needed due to organizational restructure\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/organization-structure/positions/{{position_id_mkt}}/deactivate",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "positions", "{{position_id_mkt}}", "deactivate"]
								},
								"description": "System Admin deactivates position (BR 12, BR 37 - delimited if has historical assignments)"
							},
							"response": []
						},
						{
							"name": "Reactivate Position",
							"request": {
								"method": "PATCH",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/organization-structure/positions/{{position_id_mkt}}/reactivate",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "positions", "{{position_id_mkt}}", "reactivate"]
								},
								"description": "System Admin reactivates a position"
							},
							"response": []
						}
					]
				},
				{
					"name": "3. Position Assignments",
					"description": "Assign employees to positions",
					"item": [
						{
							"name": "Assign Employee to Position",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"employeeProfileId\": \"{{employee_id_active}}\",\n  \"positionId\": \"{{position_id_hrm}}\",\n  \"departmentId\": \"{{dept_id_hr}}\",\n  \"startDate\": \"2026-01-01\",\n  \"reason\": \"Promotion to HR Manager\",\n  \"notes\": \"Effective from January 1st, 2026\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/organization-structure/assignments",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "assignments"]
								},
								"description": "Assign an employee to a position"
							},
							"response": []
						},
						{
							"name": "Search Assignments",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/organization-structure/assignments?activeOnly=true&page=1&limit=20",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "assignments"],
									"query": [
										{
											"key": "activeOnly",
											"value": "true"
										},
										{
											"key": "page",
											"value": "1"
										},
										{
											"key": "limit",
											"value": "20"
										}
									]
								},
								"description": "Search position assignments with filters"
							},
							"response": []
						},
						{
							"name": "Search Assignments by Employee",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/organization-structure/assignments?employeeProfileId={{employee_id_active}}&activeOnly=true",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "assignments"],
									"query": [
										{
											"key": "employeeProfileId",
											"value": "{{employee_id_active}}"
										},
										{
											"key": "activeOnly",
											"value": "true"
										}
									]
								},
								"description": "Get assignments for a specific employee"
							},
							"response": []
						},
						{
							"name": "Search Assignments by Position",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/organization-structure/assignments?positionId={{position_id_swe}}",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "assignments"],
									"query": [
										{
											"key": "positionId",
											"value": "{{position_id_swe}}"
										}
									]
								},
								"description": "Get all assignments for a position"
							},
							"response": []
						},
						{
							"name": "Get Employee Assignment History",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/organization-structure/assignments/employee/{{employee_id_active}}/history",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "assignments", "employee", "{{employee_id_active}}", "history"]
								},
								"description": "Get complete assignment history for an employee"
							},
							"response": []
						},
						{
							"name": "Get Assignment by ID",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/organization-structure/assignments/{{assignment_id_1}}",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "assignments", "{{assignment_id_1}}"]
								},
								"description": "Get assignment details by ID"
							},
							"response": []
						},
						{
							"name": "End Assignment (Delimit)",
							"request": {
								"method": "PATCH",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"endDate\": \"2026-02-28\",\n  \"reason\": \"Employee transferred to different position\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/organization-structure/assignments/{{assignment_id_2}}/end",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "assignments", "{{assignment_id_2}}", "end"]
								},
								"description": "End an assignment (delimiter - BR 37)"
							},
							"response": []
						}
					]
				},
				{
					"name": "4. Change Requests & Approvals",
					"description": "REQ-OSM-03, REQ-OSM-04",
					"item": [
						{
							"name": "REQ-OSM-03: Submit Change Request (New Position)",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"requestedByEmployeeId\": \"{{employee_id_active}}\",\n  \"requestType\": \"NEW_POSITION\",\n  \"targetDepartmentId\": \"{{dept_id_it}}\",\n  \"details\": \"Request to create Senior DevOps Engineer position\",\n  \"reason\": \"Growing team needs specialized DevOps expertise\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/organization-structure/change-requests",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "change-requests"]
								},
								"description": "Manager submits request for structural change (BR 36 - requires workflow approval)"
							},
							"response": []
						},
						{
							"name": "REQ-OSM-03: Submit Change Request (Update Department)",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"requestedByEmployeeId\": \"{{employee_id_active}}\",\n  \"requestType\": \"UPDATE_DEPARTMENT\",\n  \"targetDepartmentId\": \"{{dept_id_it}}\",\n  \"details\": \"Rename department to 'Technology & Engineering'\",\n  \"reason\": \"Better reflect current scope and responsibilities\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/organization-structure/change-requests",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "change-requests"]
								},
								"description": "Manager requests department update"
							},
							"response": []
						},
						{
							"name": "REQ-OSM-04: Get All Change Requests",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/organization-structure/change-requests?page=1&limit=20",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "change-requests"],
									"query": [
										{
											"key": "page",
											"value": "1"
										},
										{
											"key": "limit",
											"value": "20"
										}
									]
								},
								"description": "System Admin views all change requests"
							},
							"response": []
						},
						{
							"name": "Get Pending Change Requests",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/organization-structure/change-requests?status=PENDING",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "change-requests"],
									"query": [
										{
											"key": "status",
											"value": "PENDING"
										}
									]
								},
								"description": "Filter requests by status"
							},
							"response": []
						},
						{
							"name": "Get Pending Requests Count",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/organization-structure/change-requests/count/pending",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "change-requests", "count", "pending"]
								},
								"description": "Get count of pending requests for dashboard"
							},
							"response": []
						},
						{
							"name": "Get Change Request by Number",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/organization-structure/change-requests/by-number/SCR-2025-001",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "change-requests", "by-number", "SCR-2025-001"]
								},
								"description": "Get request by request number"
							},
							"response": []
						},
						{
							"name": "Get Change Request by ID",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/organization-structure/change-requests/{{change_request_pending}}",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "change-requests", "{{change_request_pending}}"]
								},
								"description": "Get detailed change request information"
							},
							"response": []
						},
						{
							"name": "Get Approvals for Change Request",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/organization-structure/change-requests/{{change_request_approved}}/approvals",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "change-requests", "{{change_request_approved}}", "approvals"]
								},
								"description": "Get approval history for a request"
							},
							"response": []
						},
						{
							"name": "REQ-OSM-04: Update Change Request",
							"request": {
								"method": "PATCH",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"details\": \"Updated: Request to create Senior DevOps Engineer and SRE positions\",\n  \"reason\": \"Team expansion requires both DevOps and SRE roles\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/organization-structure/change-requests/{{change_request_pending}}",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "change-requests", "{{change_request_pending}}"]
								},
								"description": "System Admin updates change request details"
							},
							"response": []
						},
						{
							"name": "Cancel Change Request",
							"request": {
								"method": "PATCH",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/organization-structure/change-requests/{{change_request_pending}}/cancel",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "change-requests", "{{change_request_pending}}", "cancel"]
								},
								"description": "Cancel a pending change request"
							},
							"response": []
						},
						{
							"name": "REQ-OSM-04: Approve Change Request",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"approverEmployeeId\": \"{{employee_id_active}}\",\n  \"decision\": \"APPROVED\",\n  \"comments\": \"Approved - request aligns with strategic objectives\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/organization-structure/change-requests/{{change_request_pending}}/approvals",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "change-requests", "{{change_request_pending}}", "approvals"]
								},
								"description": "System Admin approves change request"
							},
							"response": []
						},
						{
							"name": "Reject Change Request",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"approverEmployeeId\": \"{{employee_id_active}}\",\n  \"decision\": \"REJECTED\",\n  \"comments\": \"Rejected - budget constraints prevent new position creation\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/organization-structure/change-requests/{{change_request_pending}}/approvals",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "change-requests", "{{change_request_pending}}", "approvals"]
								},
								"description": "System Admin rejects change request"
							},
							"response": []
						}
					]
				},
				{
					"name": "5. Organization Chart & Logs",
					"description": "REQ-SANV-01, REQ-SANV-02, REQ-OSM-11",
					"item": [
						{
							"name": "REQ-SANV-01: Get Organization Chart",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/organization-structure/org-chart",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "org-chart"]
								},
								"description": "Employee views organizational hierarchy (BR 24 - viewable as graphical chart)"
							},
							"response": []
						},
						{
							"name": "Get Change Logs for Department",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/organization-structure/change-logs/Department/{{dept_id_it}}?page=1&limit=20",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "change-logs", "Department", "{{dept_id_it}}"],
									"query": [
										{
											"key": "page",
											"value": "1"
										},
										{
											"key": "limit",
											"value": "20"
										}
									]
								},
								"description": "Get change history for a department (BR 22 - audit trail)"
							},
							"response": []
						},
						{
							"name": "Get Change Logs for Position",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/organization-structure/change-logs/Position/{{position_id_swe}}?page=1&limit=20",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "change-logs", "Position", "{{position_id_swe}}"],
									"query": [
										{
											"key": "page",
											"value": "1"
										},
										{
											"key": "limit",
											"value": "20"
										}
									]
								},
								"description": "Get change history for a position (BR 22 - timestamped trail)"
							},
							"response": []
						}
					]
				}
			]
		},
		{
			"name": "Edge Cases & Error Handling",
			"description": "Comprehensive edge case testing for validation, business rules, and error scenarios",
			"item": [
				{
					"name": "Department Edge Cases",
					"item": [
						{
							"name": "Create Department - Duplicate Code",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"code\": \"IT\",\n  \"name\": \"New IT Department\",\n  \"description\": \"Duplicate code test\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/organization-structure/departments",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "departments"]
								},
								"description": "Expected: 409 Conflict - Department with code already exists"
							},
							"response": []
						},
						{
							"name": "Create Department - Duplicate Name",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"code\": \"NEWHR\",\n  \"name\": \"Human Resources\",\n  \"description\": \"Duplicate name test\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/organization-structure/departments",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "departments"]
								},
								"description": "Expected: 409 Conflict - Department with name already exists"
							},
							"response": []
						},
						{
							"name": "Create Department - With Head Position (Should Fail)",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"code\": \"TEST\",\n  \"name\": \"Test Department\",\n  \"headPositionId\": \"{{position_id_swe}}\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/organization-structure/departments",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "departments"]
								},
								"description": "Expected: 400 Bad Request - Cannot set head position when creating department"
							},
							"response": []
						},
						{
							"name": "Update Department - Duplicate Code",
							"request": {
								"method": "PATCH",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"code\": \"HR\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/organization-structure/departments/{{dept_id_it}}",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "departments", "{{dept_id_it}}"]
								},
								"description": "Expected: 409 Conflict - Code already exists"
							},
							"response": []
						},
						{
							"name": "Update Department - Invalid Head Position",
							"request": {
								"method": "PATCH",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"headPositionId\": \"{{position_id_acc}}\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/organization-structure/departments/{{dept_id_it}}",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "departments", "{{dept_id_it}}"]
								},
								"description": "Expected: 400 Bad Request - Head position must belong to this department"
							},
							"response": []
						},
						{
							"name": "Deactivate Department - With Active Positions",
							"request": {
								"method": "PATCH",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/organization-structure/departments/{{dept_id_it}}/deactivate",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "departments", "{{dept_id_it}}", "deactivate"]
								},
								"description": "Expected: 400 Bad Request - Cannot deactivate department with active positions (BR 12)"
							},
							"response": []
						},
						{
							"name": "Deactivate Already Inactive Department",
							"request": {
								"method": "PATCH",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/organization-structure/departments/{{dept_id_marketing}}/deactivate",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "departments", "{{dept_id_marketing}}", "deactivate"]
								},
								"description": "Expected: 400 Bad Request - Department already inactive"
							},
							"response": []
						},
						{
							"name": "Get Department - Invalid ID",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/organization-structure/departments/invalid-id",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "departments", "invalid-id"]
								},
								"description": "Expected: 400 Bad Request - Invalid ID format"
							},
							"response": []
						},
						{
							"name": "Get Department - Not Found",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/organization-structure/departments/000000000000000000000000",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "departments", "000000000000000000000000"]
								},
								"description": "Expected: 404 Not Found - Department not found"
							},
							"response": []
						}
					]
				},
				{
					"name": "Position Edge Cases",
					"item": [
						{
							"name": "Create Position - Duplicate Code",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"code\": \"SWE-001\",\n  \"title\": \"New Engineer\",\n  \"departmentId\": \"{{dept_id_it}}\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/organization-structure/positions",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "positions"]
								},
								"description": "Expected: 409 Conflict - Position with code already exists"
							},
							"response": []
						},
						{
							"name": "Create Position - Invalid Department",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"code\": \"TEST-001\",\n  \"title\": \"Test Position\",\n  \"departmentId\": \"000000000000000000000000\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/organization-structure/positions",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "positions"]
								},
								"description": "Expected: 404 Not Found - Department not found"
							},
							"response": []
						},
						{
							"name": "Create Position - Circular Reporting",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"code\": \"TEST-002\",\n  \"title\": \"Test Position\",\n  \"departmentId\": \"{{dept_id_it}}\",\n  \"reportsToPositionId\": \"{{position_id_swe}}\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/organization-structure/positions",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "positions"]
								},
								"description": "Test circular reporting prevention (REQ-OSM-09)"
							},
							"response": []
						},
						{
							"name": "Update Position - Invalid Reporting Line",
							"request": {
								"method": "PATCH",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"reportsToPositionId\": \"{{position_id_acc}}\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/organization-structure/positions/{{position_id_swe}}",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "positions", "{{position_id_swe}}"]
								},
								"description": "Expected error if creates circular reference or cross-department issue"
							},
							"response": []
						},
						{
							"name": "Deactivate Position - With Active Assignments",
							"request": {
								"method": "PATCH",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"reason\": \"Test deactivation\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/organization-structure/positions/{{position_id_swe}}/deactivate",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "positions", "{{position_id_swe}}", "deactivate"]
								},
								"description": "Should delimit if has historical assignments (BR 12, BR 37)"
							},
							"response": []
						},
						{
							"name": "Get Position - Invalid ID",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/organization-structure/positions/not-an-id",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "positions", "not-an-id"]
								},
								"description": "Expected: 400 Bad Request - Invalid ID format"
							},
							"response": []
						}
					]
				},
				{
					"name": "Assignment Edge Cases",
					"item": [
						{
							"name": "Assign to Invalid Position",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"employeeProfileId\": \"{{employee_id_active}}\",\n  \"positionId\": \"000000000000000000000000\",\n  \"departmentId\": \"{{dept_id_it}}\",\n  \"startDate\": \"2026-01-01\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/organization-structure/assignments",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "assignments"]
								},
								"description": "Expected: 404 Not Found - Position not found"
							},
							"response": []
						},
						{
							"name": "Assign Invalid Employee",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"employeeProfileId\": \"000000000000000000000000\",\n  \"positionId\": \"{{position_id_swe}}\",\n  \"departmentId\": \"{{dept_id_it}}\",\n  \"startDate\": \"2026-01-01\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/organization-structure/assignments",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "assignments"]
								},
								"description": "Expected: 404 Not Found - Employee not found"
							},
							"response": []
						},
						{
							"name": "Assign to Inactive Position",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"employeeProfileId\": \"{{employee_id_active}}\",\n  \"positionId\": \"{{position_id_mkt}}\",\n  \"departmentId\": \"{{dept_id_marketing}}\",\n  \"startDate\": \"2026-01-01\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/organization-structure/assignments",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "assignments"]
								},
								"description": "Expected: 400 Bad Request - Cannot assign to inactive position"
							},
							"response": []
						},
						{
							"name": "End Already Ended Assignment",
							"request": {
								"method": "PATCH",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"endDate\": \"2026-03-01\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/organization-structure/assignments/{{assignment_id_2}}/end",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "assignments", "{{assignment_id_2}}", "end"]
								},
								"description": "Expected: 400 Bad Request - Assignment already ended"
							},
							"response": []
						},
						{
							"name": "End Assignment - Invalid Date",
							"request": {
								"method": "PATCH",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"endDate\": \"2025-01-01\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/organization-structure/assignments/{{assignment_id_1}}/end",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "assignments", "{{assignment_id_1}}", "end"]
								},
								"description": "Expected: 400 Bad Request - End date must be after start date"
							},
							"response": []
						}
					]
				},
				{
					"name": "Change Request Edge Cases",
					"item": [
						{
							"name": "Submit Request - Invalid Department",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"requestedByEmployeeId\": \"{{employee_id_active}}\",\n  \"requestType\": \"NEW_POSITION\",\n  \"targetDepartmentId\": \"000000000000000000000000\",\n  \"details\": \"Test request\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/organization-structure/change-requests",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "change-requests"]
								},
								"description": "Expected: 404 Not Found - Department not found"
							},
							"response": []
						},
						{
							"name": "Update Non-Pending Request",
							"request": {
								"method": "PATCH",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"details\": \"Updated details\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/organization-structure/change-requests/{{change_request_approved}}",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "change-requests", "{{change_request_approved}}"]
								},
								"description": "Expected: 400 Bad Request - Cannot update non-pending request"
							},
							"response": []
						},
						{
							"name": "Approve Already Processed Request",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"approverEmployeeId\": \"{{employee_id_active}}\",\n  \"decision\": \"APPROVED\",\n  \"comments\": \"Test\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/organization-structure/change-requests/{{change_request_approved}}/approvals",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "change-requests", "{{change_request_approved}}", "approvals"]
								},
								"description": "Expected: 400 Bad Request - Request already processed"
							},
							"response": []
						},
						{
							"name": "Cancel Non-Pending Request",
							"request": {
								"method": "PATCH",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/organization-structure/change-requests/{{change_request_approved}}/cancel",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "change-requests", "{{change_request_approved}}", "cancel"]
								},
								"description": "Expected: 400 Bad Request - Can only cancel pending requests"
							},
							"response": []
						},
						{
							"name": "Get Request - Not Found",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/organization-structure/change-requests/000000000000000000000000",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "change-requests", "000000000000000000000000"]
								},
								"description": "Expected: 404 Not Found - Request not found"
							},
							"response": []
						}
					]
				},
				{
					"name": "Pagination & Search Edge Cases",
					"item": [
						{
							"name": "Search Departments - Empty Query",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/organization-structure/departments/search?query=",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "departments", "search"],
									"query": [
										{
											"key": "query",
											"value": ""
										}
									]
								},
								"description": "Should return all departments"
							},
							"response": []
						},
						{
							"name": "Search Departments - No Results",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/organization-structure/departments/search?query=NonExistentDepartment12345",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "departments", "search"],
									"query": [
										{
											"key": "query",
											"value": "NonExistentDepartment12345"
										}
									]
								},
								"description": "Should return empty results"
							},
							"response": []
						},
						{
							"name": "Search Positions - Page Beyond Range",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/organization-structure/positions/search?page=999&limit=20",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "positions", "search"],
									"query": [
										{
											"key": "page",
											"value": "999"
										},
										{
											"key": "limit",
											"value": "20"
										}
									]
								},
								"description": "Should return empty data with valid pagination info"
							},
							"response": []
						},
						{
							"name": "Search Assignments - Large Limit",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/organization-structure/assignments?limit=10000",
									"host": ["{{baseUrl}}"],
									"path": ["organization-structure", "assignments"],
									"query": [
										{
											"key": "limit",
											"value": "10000"
										}
									]
								},
								"description": "Test with very large limit"
							},
							"response": []
						}
					]
				}
			]
		}
	]
}

