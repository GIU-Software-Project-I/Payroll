### ============================================================
### PERFORMANCE MODULE - HTTP TESTS
### Total Routes: 36 | Total Tests: 100+
### ============================================================

### ============================================================
### 1. TEMPLATES - HAPPY PATH
### ============================================================

### 1. POST Create Template
POST http://localhost:5000/performance/templates
Content-Type: application/json

{
  "name": "Project Performance Review",
  "description": "Template for project-based evaluations",
  "templateType": "PROJECT",
  "ratingScale": {
    "type": "FIVE_POINT",
    "min": 1,
    "max": 5,
    "step": 1,
    "labels": ["Poor", "Below Average", "Average", "Good", "Excellent"]
  },
  "criteria": [
    {"key": "delivery", "title": "Project Delivery", "weight": 30, "required": true},
    {"key": "quality", "title": "Work Quality", "weight": 30, "required": true},
    {"key": "teamwork", "title": "Team Collaboration", "weight": 20, "required": true},
    {"key": "communication", "title": "Communication", "weight": 20, "required": true}
  ],
  "instructions": "Rate employee based on project outcomes"
}

### 2. GET All Templates
GET http://localhost:5000/performance/templates

### 3. GET Active Templates Only
GET http://localhost:5000/performance/templates?isActive=true

### 4. GET Search Templates
GET http://localhost:5000/performance/templates/search?query=Annual&page=1&limit=10

### 5. GET Search Templates by Type
GET http://localhost:5000/performance/templates/search?templateType=ANNUAL&page=1&limit=10

### 6. GET Template Stats
GET http://localhost:5000/performance/templates/stats

### 7. GET Template By ID (Existing)
GET http://localhost:5000/performance/templates/693a800c7e07119e5fd6a9e4

### 8. PATCH Update Template
PATCH http://localhost:5000/performance/templates/693a800c7e07119e5fd6a9e4
Content-Type: application/json

{
  "description": "Updated annual performance evaluation template"
}

### 9. PATCH Deactivate Template (use Probationary - not in active cycle)
PATCH http://localhost:5000/performance/templates/693a800c7e07119e5fd6a9e5/deactivate

### 10. PATCH Reactivate Template
PATCH http://localhost:5000/performance/templates/693a800c7e07119e5fd6a9e5/reactivate

### ============================================================
### 2. CYCLES - HAPPY PATH
### ============================================================

### 11. POST Create Cycle
POST http://localhost:5000/performance/cycles
Content-Type: application/json

{
  "name": "Q2 2026 Project Reviews",
  "description": "Quarterly project performance review",
  "cycleType": "PROJECT",
  "startDate": "2026-04-01",
  "endDate": "2026-06-30",
  "managerDueDate": "2026-06-15",
  "employeeAcknowledgementDueDate": "2026-06-30",
  "templateAssignments": [
    {
      "templateId": "693a800c7e07119e5fd6a9e4",
      "departmentIds": ["693a80037e07119e5fd6a888"]
    }
  ]
}

### 12. GET All Cycles
GET http://localhost:5000/performance/cycles

### 13. GET Active Cycles
GET http://localhost:5000/performance/cycles?status=ACTIVE

### 14. GET Planned Cycles
GET http://localhost:5000/performance/cycles?status=PLANNED

### 15. GET Search Cycles
GET http://localhost:5000/performance/cycles/search?query=Annual&page=1&limit=10

### 16. GET Search Cycles by Type
GET http://localhost:5000/performance/cycles/search?cycleType=ANNUAL&page=1&limit=10

### 17. GET Cycle Stats
GET http://localhost:5000/performance/cycles/stats

### 18. GET Cycle By ID (Active - 2025 Annual)
GET http://localhost:5000/performance/cycles/693a800c7e07119e5fd6a9e7

### 19. GET Cycle By ID (Planned - Q1 2026 Probation)
GET http://localhost:5000/performance/cycles/693a800c7e07119e5fd6a9e8

### 20. PATCH Update Planned Cycle
PATCH http://localhost:5000/performance/cycles/693a800c7e07119e5fd6a9e8
Content-Type: application/json

{
  "description": "Updated probationary reviews description"
}

### 21. POST Activate Planned Cycle
POST http://localhost:5000/performance/cycles/693a800c7e07119e5fd6a9e8/activate

### 22. POST Close Active Cycle
POST http://localhost:5000/performance/cycles/693a800c7e07119e5fd6a9e7/close

### 23. POST Archive Closed Cycle
POST http://localhost:5000/performance/cycles/693a800c7e07119e5fd6a9e7/archive

### ============================================================
### 3. ASSIGNMENTS - HAPPY PATH
### ============================================================

### 24. POST Create Assignment
POST http://localhost:5000/performance/assignments
Content-Type: application/json

{
  "cycleId": "693a800c7e07119e5fd6a9e7",
  "templateId": "693a800c7e07119e5fd6a9e4",
  "employeeProfileId": "693a80047e07119e5fd6a8dd",
  "managerProfileId": "693a80047e07119e5fd6a8da",
  "departmentId": "693a80037e07119e5fd6a88c",
  "positionId": "693a80037e07119e5fd6a893",
  "dueDate": "2025-12-20"
}

### 25. POST Bulk Create Assignments
POST http://localhost:5000/performance/assignments/bulk
Content-Type: application/json

{
  "cycleId": "693a800c7e07119e5fd6a9e7",
  "templateId": "693a800c7e07119e5fd6a9e4",
  "departmentId": "693a80037e07119e5fd6a888",
  "employeeProfileIds": ["693a80047e07119e5fd6a8d9", "693a80047e07119e5fd6a8db"],
  "dueDate": "2025-12-20"
}

### 26. GET Search Assignments
GET http://localhost:5000/performance/assignments?page=1&limit=10

### 27. GET Assignments by Cycle
GET http://localhost:5000/performance/assignments?cycleId=693a800c7e07119e5fd6a9e7

### 28. GET Assignments by Status
GET http://localhost:5000/performance/assignments?status=IN_PROGRESS

### 29. GET Assignments by Employee
GET http://localhost:5000/performance/assignments?employeeProfileId=693a80047e07119e5fd6a8d9

### 30. GET Assignments by Department
GET http://localhost:5000/performance/assignments?departmentId=693a80037e07119e5fd6a888

### 31. GET Assignments for Manager
GET http://localhost:5000/performance/assignments/manager/693a80047e07119e5fd6a8da

### 32. GET Assignments for Employee
GET http://localhost:5000/performance/assignments/employee/693a80047e07119e5fd6a8d9

### 33. GET Assignment By ID (IN_PROGRESS)
GET http://localhost:5000/performance/assignments/693a800c7e07119e5fd6a9ea

### 34. GET Assignment By ID (SUBMITTED)
GET http://localhost:5000/performance/assignments/693a800c7e07119e5fd6a9eb

### ============================================================
### 4. RECORDS - HAPPY PATH
### ============================================================

### 35. POST Save Draft Record
POST http://localhost:5000/performance/records/draft
Content-Type: application/json

{
  "assignmentId": "693a800c7e07119e5fd6a9ea",
  "ratings": [
    {"key": "quality", "title": "Work Quality", "ratingValue": 4, "ratingLabel": "Good", "comments": "Good work"}
  ],
  "totalScore": 80,
  "overallRatingLabel": "Good"
}

### 36. POST Submit Appraisal Record
POST http://localhost:5000/performance/records
Content-Type: application/json

{
  "assignmentId": "693a800c7e07119e5fd6a9ec",
  "ratings": [
    {"key": "quality", "title": "Work Quality", "ratingValue": 4, "ratingLabel": "Good", "weightedScore": 16, "comments": "Consistently delivers quality work"},
    {"key": "productivity", "title": "Productivity", "ratingValue": 3, "ratingLabel": "Meets Expectations", "weightedScore": 12, "comments": "Meets targets"},
    {"key": "teamwork", "title": "Teamwork", "ratingValue": 4, "ratingLabel": "Good", "weightedScore": 8, "comments": "Good collaboration"},
    {"key": "initiative", "title": "Initiative", "ratingValue": 3, "ratingLabel": "Meets Expectations", "weightedScore": 6, "comments": "Takes on tasks when assigned"},
    {"key": "attendance", "title": "Attendance", "ratingValue": 5, "ratingLabel": "Excellent", "weightedScore": 10, "comments": "Perfect attendance"}
  ],
  "totalScore": 76,
  "overallRatingLabel": "Good",
  "managerSummary": "Sarah is a solid performer who delivers quality work consistently.",
  "strengths": "Work quality, teamwork, attendance",
  "improvementAreas": "Could take more initiative on new projects"
}

### 37. GET Search Records
GET http://localhost:5000/performance/records?page=1&limit=10

### 38. GET Records by Cycle
GET http://localhost:5000/performance/records?cycleId=693a800c7e07119e5fd6a9e7

### 39. GET Records by Status
GET http://localhost:5000/performance/records?status=MANAGER_SUBMITTED

### 40. GET Records by Employee
GET http://localhost:5000/performance/records?employeeProfileId=693a80047e07119e5fd6a8db

### 41. GET Record By Assignment
GET http://localhost:5000/performance/records/assignment/693a800c7e07119e5fd6a9eb

### 42. GET Record By ID (Existing)
GET http://localhost:5000/performance/records/693a800c7e07119e5fd6a9ee

### 43. POST Publish Record
POST http://localhost:5000/performance/records/693a800c7e07119e5fd6a9ee/publish
Content-Type: application/json

{
  "publishedByEmployeeId": "693a80047e07119e5fd6a8da"
}

### 44. POST Bulk Publish Records
POST http://localhost:5000/performance/records/bulk-publish
Content-Type: application/json

{
  "recordIds": ["693a800c7e07119e5fd6a9ee"],
  "publishedByEmployeeId": "693a80047e07119e5fd6a8da"
}

### 45. POST Mark Record Viewed
POST http://localhost:5000/performance/records/693a800c7e07119e5fd6a9ee/view

### 46. POST Acknowledge Record
POST http://localhost:5000/performance/records/693a800c7e07119e5fd6a9ee/acknowledge
Content-Type: application/json

{
  "comment": "I acknowledge this appraisal but disagree with the initiative rating"
}

### 47. GET Employee Appraisal History
GET http://localhost:5000/performance/employee/693a80047e07119e5fd6a8db/history

### ============================================================
### 5. DISPUTES - HAPPY PATH
### ============================================================

### 48. GET Dispute By ID (Existing)
GET http://localhost:5000/performance/disputes/693a800c7e07119e5fd6a9f1

### 49. GET Search Disputes
GET http://localhost:5000/performance/disputes?page=1&limit=10

### 50. GET Disputes by Cycle
GET http://localhost:5000/performance/disputes?cycleId=693a800c7e07119e5fd6a9e7

### 51. GET Disputes by Status
GET http://localhost:5000/performance/disputes?status=OPEN

### 52. GET Dispute Stats
GET http://localhost:5000/performance/disputes/stats

### 53. GET Dispute Stats for Cycle
GET http://localhost:5000/performance/disputes/stats?cycleId=693a800c7e07119e5fd6a9e7

### 54. PATCH Assign Dispute Reviewer
PATCH http://localhost:5000/performance/disputes/693a800c7e07119e5fd6a9f1/assign-reviewer
Content-Type: application/json

{
  "reviewerEmployeeId": "693a80047e07119e5fd6a8da"
}

### 55. PATCH Resolve Dispute - Reject
PATCH http://localhost:5000/performance/disputes/693a800c7e07119e5fd6a9f1/resolve
Content-Type: application/json

{
  "status": "REJECTED",
  "resolutionSummary": "After review, the rating accurately reflects performance during the review period.",
  "resolvedByEmployeeId": "693a80047e07119e5fd6a8da"
}

### ============================================================
### 6. DASHBOARD
### ============================================================

### 56. GET Completion Dashboard
GET http://localhost:5000/performance/dashboard/693a800c7e07119e5fd6a9e7

### ============================================================
### 7. EDGE CASES - TEMPLATE ERRORS
### ============================================================

### 57. ERROR - Create Template Duplicate Name
POST http://localhost:5000/performance/templates
Content-Type: application/json

{
  "name": "Annual Performance Review",
  "description": "Duplicate",
  "templateType": "ANNUAL",
  "ratingScale": {"type": "FIVE_POINT", "min": 1, "max": 5}
}

### 58. ERROR - Create Template Invalid Weights (not 100)
POST http://localhost:5000/performance/templates
Content-Type: application/json

{
  "name": "Bad Weights Template",
  "templateType": "ANNUAL",
  "ratingScale": {"type": "FIVE_POINT", "min": 1, "max": 5},
  "criteria": [
    {"key": "quality", "title": "Quality", "weight": 50, "required": true},
    {"key": "productivity", "title": "Productivity", "weight": 30, "required": true}
  ]
}

### 59. ERROR - Create Template Duplicate Criteria Keys
POST http://localhost:5000/performance/templates
Content-Type: application/json

{
  "name": "Duplicate Keys Template",
  "templateType": "ANNUAL",
  "ratingScale": {"type": "FIVE_POINT", "min": 1, "max": 5},
  "criteria": [
    {"key": "quality", "title": "Quality", "weight": 50, "required": true},
    {"key": "quality", "title": "Quality Again", "weight": 50, "required": true}
  ]
}

### 60. ERROR - Get Template Not Found
GET http://localhost:5000/performance/templates/507f1f77bcf86cd799439011

### 61. ERROR - Get Template Invalid ID
GET http://localhost:5000/performance/templates/invalid-id

### 62. ERROR - Update Template Duplicate Name
PATCH http://localhost:5000/performance/templates/693a800c7e07119e5fd6a9e5
Content-Type: application/json

{
  "name": "Annual Performance Review"
}

### 63. ERROR - Deactivate Template Already Inactive
PATCH http://localhost:5000/performance/templates/693a800c7e07119e5fd6a9e5/deactivate

### 64. ERROR - Reactivate Template Already Active
PATCH http://localhost:5000/performance/templates/693a800c7e07119e5fd6a9e4/reactivate

### 65. ERROR - Deactivate Template In Use (in active cycle)
PATCH http://localhost:5000/performance/templates/693a800c7e07119e5fd6a9e4/deactivate

### ============================================================
### 8. EDGE CASES - CYCLE ERRORS
### ============================================================

### 66. ERROR - Create Cycle Duplicate Name
POST http://localhost:5000/performance/cycles
Content-Type: application/json

{
  "name": "2025 Annual Review Cycle",
  "cycleType": "ANNUAL",
  "startDate": "2025-12-01",
  "endDate": "2025-12-31"
}

### 67. ERROR - Create Cycle Start After End
POST http://localhost:5000/performance/cycles
Content-Type: application/json

{
  "name": "Invalid Dates Cycle",
  "cycleType": "PROJECT",
  "startDate": "2026-12-31",
  "endDate": "2026-01-01"
}

### 68. ERROR - Create Cycle Manager Due Date Outside Period
POST http://localhost:5000/performance/cycles
Content-Type: application/json

{
  "name": "Bad Due Date Cycle",
  "cycleType": "AD_HOC",
  "startDate": "2026-07-01",
  "endDate": "2026-07-31",
  "managerDueDate": "2026-08-15"
}

### 69. ERROR - Create Cycle With Inactive Template
POST http://localhost:5000/performance/cycles
Content-Type: application/json

{
  "name": "Inactive Template Cycle",
  "cycleType": "AD_HOC",
  "startDate": "2026-08-01",
  "endDate": "2026-08-31",
  "templateAssignments": [{"templateId": "693a800c7e07119e5fd6a9e5"}]
}

### 70. ERROR - Get Cycle Not Found
GET http://localhost:5000/performance/cycles/507f1f77bcf86cd799439011

### 71. ERROR - Update Active Cycle
PATCH http://localhost:5000/performance/cycles/693a800c7e07119e5fd6a9e7
Content-Type: application/json

{
  "description": "Cannot update active cycle"
}

### 72. ERROR - Activate Already Active Cycle
POST http://localhost:5000/performance/cycles/693a800c7e07119e5fd6a9e7/activate

### 73. ERROR - Close Planned Cycle
POST http://localhost:5000/performance/cycles/693a800c7e07119e5fd6a9e8/close

### 74. ERROR - Archive Active Cycle
POST http://localhost:5000/performance/cycles/693a800c7e07119e5fd6a9e7/archive

### ============================================================
### 9. EDGE CASES - ASSIGNMENT ERRORS
### ============================================================

### 75. ERROR - Create Assignment For Planned Cycle
POST http://localhost:5000/performance/assignments
Content-Type: application/json

{
  "cycleId": "693a800c7e07119e5fd6a9e8",
  "templateId": "693a800c7e07119e5fd6a9e5",
  "employeeProfileId": "693a80047e07119e5fd6a8d9",
  "managerProfileId": "693a80047e07119e5fd6a8da",
  "departmentId": "693a80037e07119e5fd6a888"
}

### 76. ERROR - Create Assignment Cycle Not Found
POST http://localhost:5000/performance/assignments
Content-Type: application/json

{
  "cycleId": "507f1f77bcf86cd799439011",
  "templateId": "693a800c7e07119e5fd6a9e4",
  "employeeProfileId": "693a80047e07119e5fd6a8d9",
  "managerProfileId": "693a80047e07119e5fd6a8da",
  "departmentId": "693a80037e07119e5fd6a888"
}

### 77. ERROR - Create Assignment Template Not Found
POST http://localhost:5000/performance/assignments
Content-Type: application/json

{
  "cycleId": "693a800c7e07119e5fd6a9e7",
  "templateId": "507f1f77bcf86cd799439011",
  "employeeProfileId": "693a80047e07119e5fd6a8d9",
  "managerProfileId": "693a80047e07119e5fd6a8da",
  "departmentId": "693a80037e07119e5fd6a888"
}

### 78. ERROR - Create Assignment Self-Manager
POST http://localhost:5000/performance/assignments
Content-Type: application/json

{
  "cycleId": "693a800c7e07119e5fd6a9e7",
  "templateId": "693a800c7e07119e5fd6a9e4",
  "employeeProfileId": "693a80047e07119e5fd6a8da",
  "managerProfileId": "693a80047e07119e5fd6a8da",
  "departmentId": "693a80037e07119e5fd6a888"
}

### 79. ERROR - Create Assignment Duplicate Employee In Cycle
POST http://localhost:5000/performance/assignments
Content-Type: application/json

{
  "cycleId": "693a800c7e07119e5fd6a9e7",
  "templateId": "693a800c7e07119e5fd6a9e4",
  "employeeProfileId": "693a80047e07119e5fd6a8d9",
  "managerProfileId": "693a80047e07119e5fd6a8da",
  "departmentId": "693a80037e07119e5fd6a888"
}

### 80. ERROR - Create Assignment Due Date Outside Cycle
POST http://localhost:5000/performance/assignments
Content-Type: application/json

{
  "cycleId": "693a800c7e07119e5fd6a9e7",
  "templateId": "693a800c7e07119e5fd6a9e4",
  "employeeProfileId": "693a80047e07119e5fd6a8dd",
  "managerProfileId": "693a80047e07119e5fd6a8da",
  "departmentId": "693a80037e07119e5fd6a88c",
  "dueDate": "2026-06-01"
}

### 81. ERROR - Get Assignment Not Found
GET http://localhost:5000/performance/assignments/507f1f77bcf86cd799439011

### ============================================================
### 10. EDGE CASES - RECORD ERRORS
### ============================================================

### 82. ERROR - Submit Record Assignment Not Found
POST http://localhost:5000/performance/records
Content-Type: application/json

{
  "assignmentId": "507f1f77bcf86cd799439011",
  "ratings": [],
  "totalScore": 0
}

### 83. ERROR - Submit Record For Inactive Cycle
POST http://localhost:5000/performance/records
Content-Type: application/json

{
  "assignmentId": "693a800c7e07119e5fd6a9ea",
  "ratings": [],
  "totalScore": 0
}

### 84. ERROR - Modify Published Record
POST http://localhost:5000/performance/records
Content-Type: application/json

{
  "assignmentId": "693a800c7e07119e5fd6a9eb",
  "ratings": [{"key": "test", "title": "Test", "ratingValue": 5}],
  "totalScore": 100
}

### 85. ERROR - Get Record Not Found
GET http://localhost:5000/performance/records/507f1f77bcf86cd799439011

### 86. ERROR - Publish Draft Record
POST http://localhost:5000/performance/records/507f1f77bcf86cd799439011/publish
Content-Type: application/json

{
  "publishedByEmployeeId": "693a80047e07119e5fd6a8da"
}

### 87. ERROR - Acknowledge Non-Published Record
POST http://localhost:5000/performance/records/507f1f77bcf86cd799439011/acknowledge
Content-Type: application/json

{
  "comment": "Test"
}

### 88. ERROR - View Non-Published Record
POST http://localhost:5000/performance/records/507f1f77bcf86cd799439011/view

### ============================================================
### 11. EDGE CASES - DISPUTE ERRORS
### ============================================================

### 89. ERROR - File Dispute Record Not Found
POST http://localhost:5000/performance/disputes
Content-Type: application/json

{
  "appraisalId": "507f1f77bcf86cd799439011",
  "assignmentId": "693a800c7e07119e5fd6a9eb",
  "cycleId": "693a800c7e07119e5fd6a9e7",
  "raisedByEmployeeId": "693a80047e07119e5fd6a8db",
  "reason": "Test",
  "details": "Test"
}

### 90. ERROR - File Dispute Not Published Record
POST http://localhost:5000/performance/disputes
Content-Type: application/json

{
  "appraisalId": "693a800c7e07119e5fd6a9ee",
  "assignmentId": "693a800c7e07119e5fd6a9eb",
  "cycleId": "693a800c7e07119e5fd6a9e7",
  "raisedByEmployeeId": "693a80047e07119e5fd6a8db",
  "reason": "Test"
}

### 91. ERROR - File Dispute Wrong Employee
POST http://localhost:5000/performance/disputes
Content-Type: application/json

{
  "appraisalId": "693a800c7e07119e5fd6a9ee",
  "assignmentId": "693a800c7e07119e5fd6a9eb",
  "cycleId": "693a800c7e07119e5fd6a9e7",
  "raisedByEmployeeId": "693a80047e07119e5fd6a8da",
  "reason": "Test"
}

### 92. ERROR - File Duplicate Dispute
POST http://localhost:5000/performance/disputes
Content-Type: application/json

{
  "appraisalId": "693a800c7e07119e5fd6a9ee",
  "assignmentId": "693a800c7e07119e5fd6a9eb",
  "cycleId": "693a800c7e07119e5fd6a9e7",
  "raisedByEmployeeId": "693a80047e07119e5fd6a8db",
  "reason": "Duplicate dispute"
}

### 93. ERROR - Get Dispute Not Found
GET http://localhost:5000/performance/disputes/507f1f77bcf86cd799439011

### 94. ERROR - Assign Reviewer To Non-Open Dispute
PATCH http://localhost:5000/performance/disputes/507f1f77bcf86cd799439011/assign-reviewer
Content-Type: application/json

{
  "reviewerEmployeeId": "693a80047e07119e5fd6a8da"
}

### 95. ERROR - Assign Self As Reviewer
PATCH http://localhost:5000/performance/disputes/693a800c7e07119e5fd6a9f1/assign-reviewer
Content-Type: application/json

{
  "reviewerEmployeeId": "693a80047e07119e5fd6a8db"
}

### 96. ERROR - Resolve Already Resolved Dispute
PATCH http://localhost:5000/performance/disputes/507f1f77bcf86cd799439011/resolve
Content-Type: application/json

{
  "status": "REJECTED",
  "resolutionSummary": "Test",
  "resolvedByEmployeeId": "693a80047e07119e5fd6a8da"
}

### 97. ERROR - Resolve With Invalid Status
PATCH http://localhost:5000/performance/disputes/693a800c7e07119e5fd6a9f1/resolve
Content-Type: application/json

{
  "status": "OPEN",
  "resolutionSummary": "Test",
  "resolvedByEmployeeId": "693a80047e07119e5fd6a8da"
}

### 98. ERROR - Resolve Without Summary
PATCH http://localhost:5000/performance/disputes/693a800c7e07119e5fd6a9f1/resolve
Content-Type: application/json

{
  "status": "REJECTED",
  "resolvedByEmployeeId": "693a80047e07119e5fd6a8da"
}

### ============================================================
### 12. EDGE CASES - DASHBOARD ERRORS
### ============================================================

### 99. ERROR - Dashboard Cycle Not Found
GET http://localhost:5000/performance/dashboard/507f1f77bcf86cd799439011

### 100. ERROR - Dashboard Invalid Cycle ID
GET http://localhost:5000/performance/dashboard/invalid-id

